<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      h1 {
        text-align: center;
      }

      .container {
        margin: 0 auto;
        padding: 60px 20%;
      }

      figure {
        text-align: center;
      }

      img {
        display: inline-block;
      }

      body {
        font-family: "Inter", sans-serif;
      }

      code {
        background-color: #f5f5f5;
        border-radius: 6px;
        font-family: monospace;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>VR Hand Interative Deformation Project</h1>

      <div style="text-align: center">
        <h2>Team: 31</h2>
        Names: Yun Chung Chang, Jason Du, Panfeng(gavin) Jiang, Zitong (Peter)
        Hu
      </div>

      <br />

      Link to webpage:
      <a href=""></a>
      <br />
      Link to GitHub repository:
      <a href="https://github.com/zx40224617/CS184_Final_Deliverables"
        >Final Deliverables Website</a
      >
      <a href="https://github.com/pyotrhu/VRdeformation"
        >Our Code Base (switch to master branch if you see nothing)</a
      >
      <br />
      Link to Slides:
      <a href=""></a>
      <br />
      Link to Videos:
      <a href=""> </a>

      <h2>Abstract</h2>
      This project is inspired by CS184 Project 4 about physical simulation. We
      aims to develop a real-time, interactive mesh deformation system for
      virtual reality environments using Unity and Meta Quest 3. By enhancing
      immersion through dynamic, responsive mesh modifications, we seek to
      explore novel ways users can interact with and manipulate virtual objects
      directly via hand tracking or controller inputs. From the baseline, we
      improve the physical simulation by applying TBD for a more realistic
      objects deformation. We also replace the original mesh with a customized
      mesh and rewrite the code for multi-objects interactions in the same
      scene. We also build an immersive scene for better experience.

      <h2>Technical Approach</h2>
      We implement custom Shader-Based Deformation: Leverages GPU-powered
      shaders to compute and render mesh deformations at high performance
      without modifying the underlying mesh data on the CPU.

      <h3>GPU: Compute Buffer</h3>
      In typical physics simulation, unlike in project 4, it usually involve a
      much more complex mesh that contains huge amounts of verticies. In this
      case, we will need to populate a buffer to hold the vertex information
      including position and velocities on the GPU using Compute Buffers. It is
      simply a memory container that the Compute Shader read and write to. This
      is much more efficient since we can now compute parallely on the GPU
      without relying on CPU for dealing with large amount of data.

      <br />
      <br />

      To utilize compute buffer, we need to know how much storage that we need
      exactly. In our case, for each Vertex struct, there are 8 floats including
      position in 3 different axis, velocity in 3 different axis, and uv. So the
      total memory that we need will ended up being
      <code>vertex_number * size_of_float * 8</code>

      <br />
      <br />

      <h3>Deformation in Compute Shader</h3>
      TBD

      <h3>Rendering</h3>
      After the verticies have be altered, the compute shader are responsible
      for rendering that reflects the changes. In the baseline project, there
      are 2 differnet methods that are implemented, but we are focusing on the
      one that we ended up using here, which is DrawProcedural.

      <br />
      <br />

      In order to implement DrawProcedural, we need to turn off the MeshRenderer
      whenever this method is selected. We first need to initiliaze a Structured
      Buffer and bind it on the CPU side in the vertex shader. So we are
      bascially just reading from the Compute Shader to access the position and
      velocity after deformation. For sampling, we can use the VertexID
      supported in Unity since the Structured Buffer has the same order as the
      vertex buffer.

      <br />
      <br />

      Bur for DrawProcedural, we need another Buffer called Index Buffer, which
      we simply just copy the triangles of the mesh into a Graphics Buffer that
      allows us to draw the traingles based on the deformed verticies as we
      already read as mentioned above.

      <h3>Hand Interaction</h3>
      The idea here is really easy, we first calculate the distance between
      verticies and hand using the positions. and base on distance, apply
      differnt level of pusing force using HLSL built in functions smoothstep().
      Also, since we only want pushing force, we calculate the dot product of
      the hand moving direction and the vertex. Using the HLSL built in function
      saturate() to clamp out negtaive values so that there onlt force apply
      when the vertex is relatively in front of the hand.

      <div style="display: flex; flex-direction: column; align-items: center">
        <table
          style="width: 100%; text-align: center; border-collapse: collapse"
        >
          <tr>
            <td style="text-align: center">
              <img src="images/unity1.jpg" width="400px" />
              <figcaption>Interactive Demo setup in Unity</figcaption>
            </td>
            <td style="text-align: center">
              <img src="images/unity2.jpg" width="400px" />
              <figcaption>Interactive Object Mesh</figcaption>
            </td>
          </tr>
        </table>
      </div>

      <h2>Results</h2>

      <h2>References</h2>
      <ul>
        <li>
          <a
            href="https://medium.com/swlh/oculus-quest-mesh-deformation-with-compute-shaders-in-unity-9caa1b904fda"
          >
            Oculus Quest Mesh Deformation with Compute Shaders in Unity
          </a>
        </li>
        <li>CS184 Project 4</li>
        <li>
          Past Projet:
          <a href="https://myxamediyar.github.io/cs184-finalproj/writeup.html">
            CrushFX: Soft-Body Compression & Mesh Deformation
          </a>
        </li>
      </ul>
    </div>
  </body>
</html>
